{"version":3,"sources":["webpack://dzsap_webpack_external/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap_webpack_external/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap_webpack_external/../source/audioplayer/jsinc/_dzsap_svgs.js","webpack://dzsap_webpack_external/webpack/bootstrap","webpack://dzsap_webpack_external/webpack/runtime/define property getters","webpack://dzsap_webpack_external/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap_webpack_external/../source/audioplayer/js_common/_esjquery.js","webpack://dzsap_webpack_external/../source/audioplayer/configs/_constants.js","webpack://dzsap_webpack_external/../source/audioplayer/dzsap-wave-generator.sourcepack.js"],"names":["exports","decode_json","arg","fout","JSON","parse","err","console","log","loadScriptIfItDoesNotExist","scriptSrc","checkForVar","Promise","resolve","reject","script","document","createElement","onload","onerror","src","head","appendChild","getBaseUrl","baseUrlVar","scriptName","window","scripts","getElementsByTagName","scriptKey","String","indexOf","baseUrl_arr","split","splice","result","join","sanitizeToCssPx","setupTooltip","args","mainArgs","Object","assign","tooltipInnerHTML","tooltipIndicatorText","tooltipConClass","isInt","n","Math","round","isValid","getRelativeX","mouseX","$el_","jQuery","offset","left","dzsapSvgs","dzsHelpers","dzsap_generate_keyboard_controls","keyboard_controls","dzsap_keyboard_controls","extend","step_back_amount","Number","formatTime","s","m","h","isFinite","can_history_api","history","pushState","dzs_clean_string","replace","get_query_arg","purl","key","regtest","RegExp","exec","splitterS","aux","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android_good","is_ie","MSInputMethodContext","documentMode","navigator","platform","can_canvas","getContext","is_safari","prototype","toString","call","HTMLElement","is_android","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","userAgent","toLowerCase","htmlEncode","text","html","dzsap_generate_keyboard_tooltip","lab","structureDzsTooltipCommentAfterSubmit","handle_keypresses","e","isKeyPressed","checkKeyCode","ctrlKey","keyCode","$","dzsap_currplayer_focused","api_pause_media","pause_play","hasClass","api_play_media","dzsap_mouseover","preventDefault","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","hexToRgb","hex","palpha","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","fn","prependOnce","argfind","_t","this","auxarr","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","_t_posx","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","dzsap_generate_list_for_sync_players","pargs","margs","dzsap_syncList_players","settings","construct_player_list_for_sync","force_regenerate","_t2","push","off","on","toggleClass","innerWidth","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","dzsap_send_total_time","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","setTimeout","dzsap_multisharer_assets_loaded","loading_multi_sharer","link","id","rel","media","dzsap_box_main_con","dzsap_submit_like","argp","playerid","currentTarget","ajax_url","htmlaux","dzsap_retract_like","jQueryAuxBindings","$t","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","wishlist_action","dzsap_lasto","settings_php_handler","_con","setInterval","$dzsapBoxMainCon","$playerBut","overwrite_this","$caller","stringSocialNetworksBlock","dzsap_social_feed_for_social_networks","stringShareLinkBlock","dzsap_social_feed_for_share_link","newloc","stringShareboxSocial","dzsap_social_feed_for_embed_link","replace_str","htmlEntities","selectText","lightbox_open","open_dzsap_lightbox","_target","api_filter","selectNode","ajax_submit_views","the_player_id","currIp","data_source","o","increment_views","ajax_view_submitted","currip","cthis","auxnr","auxlikes","view_player_playMiscEffects","$conPlayPause","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","player_determineActualPlayer","$fakePlayer","_actualPlayer","actualDataTypeOfMedia","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","checkInterval","checkIfVarExists","clearInterval","then","catch","configureAudioPlayerOptionsInitial","preload_method","wavesurfer_pcm_length","settings_trigger_resize","isNaN","design_thumbh","skinwave_wave_mode","skinwave_wave_mode_canvas_normalize","skinwave_wave_mode_canvas_waves_number","autoplay","cue","extra_classes_player","design_skin","feedEmbedCode","embed_code","initOptions","skinwave_enableSpectrum","test","scrubbar_type","ajaxurl","action_received_time_total","action_video_contor_60secs","disable_volume","cueMedia","starrating_alreadyrated","disable_scrub","disable_timer","design_color_bg","design_wave_color_bg","design_color_highlight","design_wave_color_progress","design_animateplaypause","skinwave_wave_mode_canvas_mode","skinwave_wave_mode_canvas_reflection_size","php_handler","urlToAjaxHandler","player_reinit_findIfPcmNeedsGenerating","hasInitialPcmData","isPcmRequiredToGenerate","playerFunctions","functionType","skinwave_comments_playerid","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","prev","player_viewApplySkinWaveModes","skinwave_mode","sanitizeToHexColor","hexcolor","player_identifySource","player_identifyTypes","player_adjustIdentifiers","_feed_obj","$feed_fakeButton","player_getPlayFromTime","playFrom","playfrom","sanitizeToIntFromPointTime","sampleTimeStart","arr","player_initSpectrum","dzsap_audio_ctx","AudioContext","spectrum_audioContext","webkitAudioContext","spectrum_analyser","createAnalyser","smoothingTimeConstant","fftSize","$mediaNode_","crossOrigin","spectrum_mediaElementSource","createMediaElementSource","connect","createGain","spectrum_gainNode","destination","gain","frameCount","sampleRate","spectrum_audioContext_buffer","createBuffer","player_initSpectrumOnUserAction","handleMouseDown","addEventListener","once","player_icecastOrShoutcastRefresh","audioTypeSelfHosted_streamType","crossDomain","documentElement","innerHTML","new_title","new_artist","regexMatches","setup_media","radio_isGoingToUpdateSongName","radio_isGoingToUpdateArtistName","player_determineStickToBottomContainer","$stickToBottomContainer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_determineHtmlAreas","extraHtmlBottom","extraHtmlControlsLeft","extraHtmlControlsRight","settings_extrahtml","extraHtmlAreas","controlsLeft","controlsRight","bottom","svg_share_icon","player_stopOtherPlayers","dzsap_list","i","api_destroy_for_rebuffer","player_detect_skinwave_mode","player_constructArtistAndSongCon","structHtml","call_from","_conControls","_audioplayerInner","wrap","_apControls","_apControlsRight","_apControlsLeft","after","_conPlayPauseCon","before","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","sw_setFromJson","undefined","$elThis","eval","aux_opts","generateFakeArrayForPcm","it1","random","scrubbar_modeWave_clearObsoleteCanvas","_scrubbar","scrubbar_modeWave_setupCanvas","prepare_for_transition_in","struct_scrubBg_str","struct_scrubProg_str","_scrubbarbg_canvas","_scrubbarprog_canvas","hide","svg_footer_playlist","svg_embed_btn","svg_prev_btn","svg_next_btn","svg_menu_state","svg_embed_button","playbtn_svg","pausebtn_svg","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__","d","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","esJquery","selector","$el","querySelector","$els","querySelectorAll","isNodeList","_el","style","display","cln","cloneNode","parentNode","eventType","event","Event","dispatchEvent","el3","classList","add","_tempKid","insertBefore","firstChild","outerHTML","callback","arguments","textContent","evt","handler","t","target","matches","contains","attrArgs","getAttribute","setAttribute","childNodes","field","form","query","elements","name","j","options","selected","checked","substr","nodes","stringRepr","nodeType","es_document_ready","resolutionFunc","rejectionFunc","readyState","resolution","es_ajax","xhr","XMLHttpRequest","form_data","FormData","send","status","addition","ConstantsDzsAp","WaveGenerator","$waveGenerator_","dataSource","$waveGenerator","$wavedataField","$status","init","selectorWaveData","promise_waveGenerate","pcm_data","dzsap_wave_generate_auto","dzsap_admin_waveforms_submitPcmData","dzsap_generating_pcm","async","$container_","sourceMp3","called_from","preferBackendPeaks","resolvePcm","rejectPcm","asyncRenderPcm","wavesurferConId","linGrad","createLinearGradient","addColorStop","wavesurfer","WaveSurfer","create","container","normalize","pixelRatio","waveColor","progressColor","cursorColor","barWidth","percents","load","pcmDataArr","pcmDataString","exportPCM","isPcmDataArrValid","backend","getPeaks","toFixed","stringify","resolve_type","err2","error_type","error_message","wavesurfer_renderPcm","responsePcm","default_pcm","i3"],"mappings":"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","file":"dzsap-wave-generator.js","sourcesContent":["exports.decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n      console.log(err, arg);\n      return null;\n    }\n  }\n\n  return fout;\n}\n\nexports.loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    // console.log({checkForVar})\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n/**\n *\n * @param {string} baseUrlVar - something like 'dzsap_base_url'\n * @param scriptName\n * @returns {string[]}\n */\nexports.getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    // console.log('baseUrlVar')\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  // console.log(baseUrl_arr);\n  const result = baseUrl_arr.join('/');\n  window[baseUrlVar] = result;\n  // console.log('getBaseUrl - ', result);\n  return result;\n}\nexports.sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n/**\n *\n * @param args\n * @param args.tooltipInnerHTML {string}\n * @param args.tooltipIndicatorText {string}\n * @param args.tooltipConClass {string}\n * @returns {string}\n */\nexports.setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexports.isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexports.isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexports.getRelativeX = function (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","const dzsapSvgs = require('./_dzsap_svgs');\nconst dzsHelpers = require('../js_common/_dzs_helpers');\n\nexport const dzsap_generate_keyboard_controls = function () {\n  var keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  if (window.dzsap_keyboard_controls) {\n    // console.log('keyboard_controls - ',keyboard_controls);\n    // console.log('window.dzsap_keyboard_controls - ',window.dzsap_keyboard_controls);\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n  // for (let lab in keyboard_controls) {\n  //   keyboard_controls[lab] = Number(keyboard_controls[lab]);\n  // }\n\n  return keyboard_controls;\n};\n\n\nexport function formatTime(arg) {\n  //formats the time\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n    //console.log(arg);\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n  //console.log(arg);\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n    // console.log('purl - ',purl);\n    if (String(purl).indexOf(key + '=') > -1) {\n      //faconsole.log('testtt');\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n      //console.log(regtest);\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n        //console.log(splitterS);\n        var splitter = splitterS.split('=');\n        //console.log(splitter[1]);\n        //var tempNr = ;\n\n        return splitter[1];\n\n      }\n      //$('.zoombox').eq\n    }\n\n  } else {\n    console.log('purl not found - ', purl);\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n  // -- key and value must be unescaped for uri\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n  //console.log(s, pair);\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n  //if(!RegExp.$1) {s += (s.length>0 ? '&' : '?') + kvp;};\n\n\n  //if value NaN we remove this field from the url\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n  // return true;\n  return is_ios() || is_android_good();\n}\n\nexport function is_ie() {\n  return !!window.MSInputMethodContext && !!document.documentMode;\n}\n\nexport function is_ios() {\n  // return true;\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n  // check if we have canvas support\n  var oCanvas = document.createElement(\"canvas\");\n  if (oCanvas.getContext(\"2d\")) {\n    return true;\n  }\n  return false;\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  return is_android_good();\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n  //return false;\n  //return true;\n  var ua = navigator.userAgent.toLowerCase();\n\n  //console.log('ua - ',ua);\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  // console.log('keyboard_controls - ',keyboard_controls,lab,keyboard_controls.lab);\n  var structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n  // left: 5px;\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param e\n * @param {number} e.keyCode\n * @param {boolean} e.ctrlKey\n * @returns {boolean}\n */\nexport function handle_keypresses(e) {\n\n  // -- local .. step back / step forward\n  // console.log('handle_keypresses()', {e});\n\n  /**\n   *\n   * @param {string} checkKeyCode\n   * @returns {boolean}\n   */\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  var keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n  // console.log('keyboard_controls.pause_play - ',keyboard_controls.pause_play);\n  // console.log('keyboard_controls - ',keyboard_controls);\n\n  // console.log('e.keyCode - ',e.keyCode, keyboard_controls);\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if ($(dzsap_currplayer_focused).hasClass('comments-writer-active') === false) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_next) {\n        dzsap_currplayer_focused.api_sync_players_goto_next();\n      }\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_sync_players_goto_prev) {\n        dzsap_currplayer_focused.api_sync_players_goto_prev();\n      }\n    }\n\n\n  }\n}\n\n\nexport function hexToRgb(hex, palpha) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (palpha) {\n      alpha = palpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  // console.log('hexToRgb ( hex - '+hex+' ) result ', str);\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    //        console.log(argfind);\n    if (typeof (argfind) === 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] !== 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this) // It's your element\n\n\n    if (typeof (argfind) === 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] !== 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n    //console.log(_lastspan, html_calc);\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n    //_t.html(html_org);\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\n/**\n * return object with properties from DOM element\n * @param _sourceForChange\n * @returns {{}|*}\n */\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n  // -- settle source\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n    // -- if it is a inline link\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n/**\n *\n * @param {string} colorString\n */\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n\n  window.dzsap_generate_list_for_sync_players = function (pargs) {\n\n    var margs = {\n      'force_regenerate': false\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n    window.dzsap_syncList_players = [];\n\n    // console.log('typeof(settings) !== \"undefined\"  && typeof(settings.construct_player_list_for_sync) !== \"undefined\"  && settings.construct_player_list_for_sync==\\'on\\' - ',typeof(settings) !== \"undefined\"  && typeof(settings.construct_player_list_for_sync) !== \"undefined\"  && settings.construct_player_list_for_sync=='on', typeof(settings) !== \"undefined\", typeof(settings.construct_player_list_for_sync), settings.construct_player_list_for_sync=='on');\n\n\n    if (typeof (settings) !== \"undefined\" && ((typeof (settings.construct_player_list_for_sync) !== \"undefined\" && settings.construct_player_list_for_sync === 'on') || margs.force_regenerate)) {\n\n      jQuery('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t2 = jQuery(this);\n        if (_t2.attr('data-do-not-include-in-list') !== 'on') {\n          if (_t2.attr('data-type') !== 'fake' || _t2.attr('data-fakeplayer')) {\n\n            window.dzsap_syncList_players.push(_t2);\n          }\n        }\n      })\n\n      // console.log('dzsap_syncList_players -5 ',dzsap_syncList_players);\n\n    }\n  }\n\n\n  jQuery(document).off('click.dzsap_global');\n  jQuery(document).on('click.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n\n      _t.find('.dzstooltip').toggleClass('active');\n      return;\n    }\n\n  })\n  jQuery(document).on('mouseover.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n      // console.log(_t.offset().left);\n      if (window.innerWidth < 500) {\n        // -- if we are in the left side of the screen, we move the tooltip to the right.\n        if (_t.offset().left < (window.innerWidth / 2)) {\n          _t.find('.dzstooltip').removeClass('talign-end').addClass('talign-start');\n        }\n      } else {\n        _t.find('.dzstooltip').addClass('talign-end').removeClass('talign-start');\n      }\n    }\n\n  });\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n    // -- we already have artist name..\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window.dzsap_send_total_time = function (argtime, argcthis) {\n\n\n    // console.log('dzsap_send_total_time()',argtime,argcthis);\n    if(argtime && argtime!==Infinity){\n      var data = {\n        action: 'dzsap_send_total_time_for_track'\n        , id_track: argcthis.attr('data-playerid')\n        , postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n    //Allow for borders.\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n    //Allow for title and status bars.\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    // console.log('dzs_open_social_link()', arg, 'argthis - ', argthis);\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n    // console.log({argthis}, argthis.constructor);\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    var aux = window.location.href;\n\n\n    var auxa = aux.split('?');\n\n    var cid = '';\n    var cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    // console.log('window.dzsap_currplayer_from_share -> ', window.dzsap_currplayer_from_share);\n    // console.log('argthis -> ', argthis);\n\n\n    if (argthis) {\n\n      var $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n    // console.log('shareurl -> ', shareurl);\n\n    //console.log(argthis);\n    //console.log('arg - ',arg);\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n      // ,video_analytics_id: argcthis.attr('data-analytics-id')\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n    // console.log('dzsap_wp_send_contor_60_secs()',argcthis,argtitle);\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Ajax - submit view - ' + response);\n        }\n\n\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.warn('Got this from the server: ' + arg);\n        }\n        ;\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n    // console.log('window.dzsap_init_multisharer()');\n    var $ = jQuery;\n    setTimeout(function () {\n      // console.log(\"LOAD MULTISHARER\");\n\n\n      // console.log('window.dzsap_multisharer_assets_loaded - ',window.dzsap_multisharer_assets_loaded);\n      if (window.dzsap_multisharer_assets_loaded) {\n\n      } else {\n        if (window.dzsap_multisharer_assets_loaded !== true && window.loading_multi_sharer !== true) {\n\n          // -- only if settings_php_handler is set\n\n\n          // - -load script for lightbox\n          window.loading_multi_sharer = true;\n          var head = document.getElementsByTagName('head')[0];\n          var link = document.createElement('link');\n\n          if (window.dzsap_settings && window.dzsap_settings.dzsap_site_url) {\n\n            link.id = 'dzsap-load-multi-sharer';\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = add_query_arg(window.dzsap_settings.dzsap_site_url, 'load-lightbox-css', 'on');\n            link.media = 'all';\n            head.appendChild(link);\n          }\n\n          // console.log('script for lightbox - ',add_query_arg(window.dzsap_settings.dzsap_site_url,'load-lightbox-css','on'));\n\n          // console.warn(\"APPEND MULTISHARER STYLE\");\n\n          setTimeout(function () {\n            if (window.dzsap_box_main_con === null) {\n              $('body').append('<div class=\"dzsap-main-con skin-default gallery-skin-default transition-slideup \"> <div class=\"overlay-background\"></div> <div class=\"box-mains-con\"> <div class=\"box-main box-main-for-share\" style=\"\"> <div class=\"box-main-media-con transition-target\"> <div class=\"close-btn-con\"><span class=\"close-btn--icon\">&times;</span></div> <div class=\"box-main-media type-inlinecontent\" style=\"width: 530px; height: 280px;\"><div class=\" real-media\" style=\"\"><div class=\"hidden-content share-content\" > <div class=\"social-networks-con\"></div> <div class=\"share-link-con\"></div> <div class=\"embed-link-con\"></div> </div> </div> </div> <div class=\"box-main-under\"></div> </div> </div> </div><!-- end .box-mains-con--> </div>');\n              window.dzsap_box_main_con = $('.dzsap-main-con').eq(0);\n              // console.log('dzsap_box_main_con - ', window.dzsap_box_main_con);\n            }\n\n          }, 1000);\n\n\n        }\n      }\n\n      // -- remove main con function\n      $(document).on('click.dzsap_global_sharer', '.dzsap-main-con .close-btn-con,.dzsap-main-con .overlay-background', function () {\n\n\n        var _c = $('.dzsap-main-con').eq(0);\n\n        _c.removeClass('loading-item loaded-item');\n      })\n\n    }, 2000)\n  }\n\n\n  window.dzsap_submit_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_submit_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart-o', 'fa-heart'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n\n  window.dzsap_retract_like = function (argp, e) {\n    //only handles ajax call + result\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_retract_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n          if (typeof window.console != \"undefined\") {\n            console.log('Got this from the server: ' + response);\n          }\n\n\n          if (_t) {\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart', 'fa-heart-o'));\n          }\n\n        },\n        error: function (arg) {\n          if (typeof window.console != \"undefined\") {\n            // console.log('Got this from the server: ' + arg, arg);\n          }\n          ;\n        }\n      });\n    }\n  }\n\n}\n\nexport function jQueryAuxBindings($) {\n\n  // console.log('start aux bindings');\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {boolean}\n   */\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    var $t = $(this);\n\n    console.log('$t - ', $t);\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass('audioplayer-song-changer')) {\n\n\n      // console.log('.audioplayer-song-changer', _t);\n      var _c = $($t.attr('data-fakeplayer')).eq(0);\n      // console.log($t, $t.attr('data-fakeplayer'), $t.attr('data-target'), _c, _c.get(0));\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if ($t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: $t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if ($t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n            //if(typeof window.console != \"undefined\" ){ console.log('Ajax - get - comments - ' + response); }\n\n\n            if ($t.find('.svg-icon').hasClass('fa-star-o')) {\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n            if (typeof window.console != \"undefined\") {\n              // console.log('Got this from the server: ' + arg, arg);\n            }\n            ;\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', handleClick_onGlobalZoomSoundsButton)\n\n\n  $(document).on('click.dzsiconhide', '.sticktobottom-close-con,.sticktobottom-close-con .svg-icon', function () {\n    var _t = $(this);\n\n    $('.dzsap-sticktobottom .audioplayer').get(0).api_pause_media();\n\n\n    console.log('_t sticktobottom-close-con -7', _t);\n\n    var _con = null;\n\n    if (_t.parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent();\n    }\n    if (_t.parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent();\n    }\n    if (_t.parent().parent().parent().hasClass(\"dzsap-sticktobottom\")) {\n      _con = _t.parent().parent().parent();\n    }\n\n    console.log('_con - ', _con, _con.hasClass('audioplayer-loaded'));\n\n    if (_con.hasClass('audioplayer-loaded')) {\n\n      _con.removeClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n\n\n    } else {\n\n      _con.addClass('audioplayer-loaded');\n      _con.addClass('audioplayer-was-loaded');\n    }\n\n    return false;\n  })\n\n  $(document).on('click.dzsiconshow', '.dzsap-sticktobottom .icon-show', function () {\n    var _t = $(this);\n\n\n    // _t.parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().removeClass('audioplayer-was-loaded');\n    //\n    // _t.parent().parent().parent().addClass('audioplayer-loaded');\n    // _t.parent().parent().parent().removeClass('audioplayer-was-loaded');\n\n    return false;\n  })\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').length > 0) {\n    setInterval(function () {\n\n      //console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver > .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') === false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-silver').addClass('audioplayer-loaded')\n        }\n      }\n    }, 1000);\n  }\n\n\n  if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').length > 0) {\n    setInterval(function () {\n\n      // console.log($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer'), $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded'));\n      if ($('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave  .audioplayer').eq(0).hasClass('dzsap-loaded')) {\n        $('.dzsap-sticktobottom-placeholder').eq(0).addClass('active');\n\n        if ($('.dzsap-sticktobottom').hasClass('audioplayer-was-loaded') === false) {\n\n          $('.dzsap-sticktobottom.dzsap-sticktobottom-for-skin-wave').addClass('audioplayer-loaded')\n        }\n      }\n\n\n    }, 1000);\n  }\n\n\n  $(document).on('click.dzsap_multisharer', '.dzsap-multisharer-but', click_open_embed_ultibox);\n\n  function click_open_embed_ultibox(e, pargs) {\n\n    var margs = {\n      'call_from': 'default'\n\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    // console.log('click_open_embed_ultibox() this - ', this);\n\n    open_dzsap_lightbox({\n      'call_from': 'click_open_embed_ultibox'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': this\n    });\n\n\n    return false;\n  }\n\n\n  /**\n   * call from player or gallery\n   * @param pargs\n   */\n  function open_dzsap_lightbox(pargs) {\n\n    var margs = {\n      'call_from': 'default'\n      , 'lightbox_open': 'share'\n      , 'overwrite_this': null\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    // console.log('ceva');\n\n    var $dzsapBoxMainCon = window.dzsap_box_main_con; // -- .dzsap-main-con\n    var $playerBut = $(this);\n\n    // console.log('_t - ', _t);\n\n    if (margs.overwrite_this) {\n      $playerBut = $(margs.overwrite_this);\n    }\n    console.log('open_dzsap_lightbox() $dzsapBoxMainCon -> ', $dzsapBoxMainCon, 'margs - ', margs);\n\n\n    /** might be player, might be gallery */\n    var $caller = null;\n    if ($playerBut.data('cthis')) {\n      $caller = $playerBut.data('cthis');\n\n      // console.log('found cthis in data');\n    }\n\n    console.log('$caller - ', $caller);\n    if ($caller) {\n\n      window.dzsap_currplayer_from_share = $caller;\n    } else {\n\n      console.log('%c could not find this .. maybe we can find it in post_id', 'background-color: #da0000;', $('.audioplayer[data-playerid=\"' + $playerBut.attr('data-post_id') + '\"]'));\n\n\n      if ($playerBut.attr('data-post_id')) {\n        window.dzsap_currplayer_from_share = $('.audioplayer[data-playerid=\"' + $playerBut.attr('data-post_id') + '\"]').eq(0);\n        $playerBut.data('cthis', window.dzsap_currplayer_from_share);\n      } else {\n\n        if ($playerBut.parent().parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n          // console.log(\"YES\");\n          window.dzsap_currplayer_from_share = $playerBut.parent().parent().parent().parent().parent().parent();\n        }\n      }\n    }\n\n\n    var stringSocialNetworksBlock = '';\n\n    if (window.dzsap_social_feed_for_social_networks) {\n      stringSocialNetworksBlock = window.dzsap_social_feed_for_social_networks;\n    }\n\n    // -- aux is feed from social_feed\n\n\n    if (window.dzsap_box_main_con) {\n\n      // console.log('window.dzsap_box_main_con - ', window.dzsap_box_main_con);\n\n      window.dzsap_box_main_con.find('.social-networks-con').html(stringSocialNetworksBlock);\n\n\n      let stringShareLinkBlock = '';\n      if (window.dzsap_social_feed_for_share_link) {\n        stringShareLinkBlock = window.dzsap_social_feed_for_share_link;\n      }\n\n\n      if (stringShareLinkBlock) {\n\n\n        // console.log('_t - ',_t);\n\n\n        var newloc = window.location.href;\n        if ($playerBut.attr('data-post-url')) {\n          newloc = $playerBut.attr('data-post-url');\n        }\n\n\n        stringShareLinkBlock = stringShareLinkBlock.replace('{{replacewithcurrurl}}', newloc);\n        stringShareLinkBlock = stringShareLinkBlock.replace('{{replacewithdataurl}}', newloc);\n        window.dzsap_box_main_con.find('.share-link-con').html(stringShareLinkBlock);\n      }\n\n      var stringShareboxSocial = '';\n      if (window.dzsap_social_feed_for_embed_link) {\n        stringShareboxSocial = window.dzsap_social_feed_for_embed_link;\n      }\n\n      console.log('dzsap_currplayer_from_share -', dzsap_currplayer_from_share);\n      if (window.dzsap_currplayer_from_share && dzsap_currplayer_from_share.data('embed_code')) {\n\n        // console.log('o.embed_code - ', dzsap_currplayer_from_share.data('embed_code'));\n\n        if (stringShareboxSocial) {\n\n          var replace_str = dzsap_currplayer_from_share.data('embed_code');\n          // console.log('dzsap_currplayer_from_share -', dzsap_currplayer_from_share);\n\n          if (replace_str.indexOf('&lt;') === -1) {\n            replace_str = htmlEntities(replace_str);\n          }\n          stringShareboxSocial = stringShareboxSocial.replace('{{replacewithembedcode}}', (replace_str));\n          $dzsapBoxMainCon.find('.embed-link-con').html(stringShareboxSocial);\n        }\n\n      }\n\n      // console.log('_c_mc - ',_c_mc);\n      // console.log('o.embed_code - ',o.embed_code);\n      // console.log('aux_social - ',aux_social);\n\n      $(document).on('click.dzsap', '.field-for-view', function () {\n\n        console.log(\"select all test \", this);\n        selectText(this);\n\n        // $(this).select();\n      });\n      $dzsapBoxMainCon.addClass('loading-box-main-' + margs.lightbox_open);\n      setTimeout(function () {\n        $dzsapBoxMainCon.addClass('loading-item');\n      }, 100);\n\n      setTimeout(function () {\n        $dzsapBoxMainCon.addClass('loaded-item');\n      }, 200);\n\n\n    } else {\n      console.log('warning missing box-main');\n    }\n  }\n\n\n  // console.log('init here auxBindings');\n  $(document).on('keydown.dzsapkeyup keypress.dzsapkeyup', function (e) {\n    // console.log('e - ',e);\n    // console.log('dzsap_currplayer_focused - ',dzsap_currplayer_focused);\n\n    handle_keypresses(e);\n  })\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n\n    // console.info(e.currentTarget.value);\n    var _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        var _target = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          _target = $(_t.attr('data-target'));\n        }\n        if (_target.get(0) && _target.get(0).api_filter) {\n          _target.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n\n\n  $(document).on('click', '.dzsap-like-but', function (e) {\n\n    var _t = $(this);\n\n\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n    window.dzsap_submit_like(playerid, e);\n\n    _t.removeClass('dzsap-like-but').addClass('dzsap-retract-like-but');\n\n    return false;\n  })\n\n  $(document).on('click', '.dzsap-retract-like-but', function (e) {\n\n    var _t = $(this);\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n\n\n    window.dzsap_retract_like(playerid, e);\n    _t.addClass('dzsap-like-but').removeClass('dzsap-retract-like-but');\n    return false;\n  })\n\n\n}\n\n\nexport function selectText(arg) {\n\n  if (document.selection) {\n    var range = document.body.createTextRange();\n    range.moveToElementText(arg);\n    range.select();\n  } else if (window.getSelection) {\n    var range = document.createRange();\n    range.selectNode(arg);\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(range);\n  }\n}\n\n\nexport function ajax_submit_views(argp, the_player_id, currIp, data_source, o, $, increment_views, ajax_view_submitted) {\n\n  // console.log('ajax_submit_views()',argp);\n\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: the_player_id,\n    currip: currIp\n  };\n\n\n  if (cthis.attr('data-playerid-for-views')) {\n    data.playerid = cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid === '') {\n    data.playerid = dzs_clean_string(data_source);\n  }\n\n  //                console.log(ajax_view_submitted);\n\n\n  // -- submit view\n  if (o.settings_php_handler) {\n    $.ajax({\n      type: \"POST\",\n      url: o.settings_php_handler,\n      data: data,\n      success: function (response) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + response);\n        }\n\n        // -- increase number of hits\n        var auxnr = cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (decode_json(response)) {\n            auxnr = decode_json(response)['number'];\n          }\n        }\n\n        cthis.find('.counter-hits .the-number').html(auxnr);\n\n        ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n        if (typeof window.console != \"undefined\") {\n          // console.log('Got this from the server: ' + arg, arg);\n        }\n        ;\n\n\n        var auxlikes = cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        ajax_view_submitted = 'on';\n      }\n    });\n    ajax_view_submitted = 'on';\n  }\n\n}\n\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n/**\n * add classes\n * @param selfClass\n */\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n    // console.log('formatTime(selfClass.timeModel.getVisualTotalTime()) - ', formatTime(selfClass.timeModel.getVisualTotalTime()), selfClass.$mediaNode_.duration);\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\nexport function player_determineActualPlayer(selfClass) {\n\n  var $ = jQuery;\n  var $fakePlayer = $(selfClass.cthis.attr('data-fakeplayer'));\n\n  // console.log({$fakePlayer});\n  if ($fakePlayer.length === 0) {\n    $fakePlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if ($fakePlayer.length) {\n      selfClass._actualPlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n      selfClass.cthis.attr('data-fakeplayer', String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    }\n  }\n\n  if ($fakePlayer.length === 0) {\n    selfClass.cthis.attr('data-fakeplayer', '');\n  } else {\n    selfClass.cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (selfClass.cthis.attr('data-type')) {\n\n      selfClass._actualPlayer = $(selfClass.cthis.attr('data-fakeplayer')).eq(0);\n      selfClass.actualDataTypeOfMedia = selfClass.cthis.attr('data-type');\n      selfClass.cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n  // console.log('waitForScriptToBeAvailableThenExecute()');\n  new Promise((resolve, reject) => {\n\n    var checkInterval = 0;\n\n    function checkIfVarExists() {\n      // console.log('window.dzsap_part_starRatings_loaded - ', window.dzsap_part_starRatings_loaded);\n      // console.log('verifyVar -', verifyVar);\n\n      if (verifyVar) {\n\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n\n    setTimeout(() => {\n\n      // resolve('timeout');\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n    // console.log(err);\n\n\n    // callbackFn('error');\n  })\n}\n\n/**\n *\n * @param cthis\n * @param o\n * @param {DzsAudioPlayer} selfClass\n */\nexport function configureAudioPlayerOptionsInitial(cthis, o, selfClass) {\n\n\n  selfClass.cthis.addClass('preload-method-' + o.preload_method);\n\n  o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n\n  o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) === false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if (o.skinwave_wave_mode === '') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_wave_mode_canvas_normalize === '') {\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if (o.skinwave_wave_mode_canvas_waves_number === '' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))) {\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay === 'on' && o.cue === 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin === '') {\n    o.design_skin = 'skin-default';\n  }\n\n\n  if (selfClass.cthis.find('.feed-dzsap--embed-code').length) {\n\n    selfClass.feedEmbedCode = selfClass.cthis.find('.feed-dzsap--embed-code').eq(0).html();\n  } else {\n    if (o.embed_code !== '') {\n      selfClass.feedEmbedCode = o.embed_code;\n    }\n  }\n\n  if (this.is_ios()) {\n    // todo: ios not playing nice.. with audio context\n    if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  var regexr = / skin-/g;\n\n\n  if (regexr.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin === 'skin-wave') {\n    if (o.scrubbar_type === 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type === 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n  if (o.settings_php_handler === 'wpdefault') {\n    o.settings_php_handler = window.ajaxurl;\n  }\n  if (o.action_received_time_total === 'wpdefault') {\n    o.action_received_time_total = window.dzsap_send_total_time;\n  }\n  if (o.action_video_contor_60secs === 'wpdefault') {\n    o.action_video_contor_60secs = window.action_video_contor_60secs;\n  }\n\n\n  if (is_ios() || is_android()) {\n    o.autoplay = 'off';\n    o.disable_volume = 'on';\n    if (o.cueMedia === 'off') {\n      o.cueMedia = 'on';\n    }\n    o.cueMedia = 'on';\n  }\n\n  if (cthis.attr('data-viewsubmitted') === 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n    // console.log('selfClass.ajax_view_submitted from data-viewsubmitted', cthis);\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin === 'skin-justthumbandbutton') {\n    if (o.design_thumbh === 'default') {\n      o.design_thumbh = '';\n      //                        res_thumbh = true;\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin === 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-steel') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-customcontrols') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_wave_mode_canvas_waves_number=1;\n    // o.skinwave_wave_mode_canvas_waves_padding=0;\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n    // o.skinwave_timer_static='on';\n  }\n\n\n  if (o.embed_code === '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause === 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause === 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.php_handler) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.php_handler;\n      }\n    }\n  }\n\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  }\n\n\n  player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n    // console.log('playerFunctions()', functionType);\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n    // -- needs a real player id\n    if (selfClass.the_player_id === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n    // console.log('o.skinwave_comments_enable - ', o.skinwave_comments_enable, o.skinwave_comments_playerid);\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\nexport function player_viewApplySkinWaveModes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n\n  selfClass.cthis.removeClass('skin-wave-mode-normal');\n\n  if (o.design_skin === 'skin-wave') {\n    selfClass.cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n    selfClass.cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.cthis.addClass('skin-wave-is-spectrum');\n    }\n    selfClass.cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n  }\n\n\n}\n\n/**\n *\n * @param hexcolor\n * @returns {string}\n */\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n  // todo: move shoutcast\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n    // -- might still use it for skin-wave\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n    //                    o.disable_scrub = 'on';\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\nexport function player_adjustIdentifiers(selfClass) {\n\n  selfClass.identifier_pcm = selfClass.the_player_id; // -- the pcm identifier to send via ajax\n\n\n  var _feed_obj = null;\n\n  if (selfClass.$feed_fakeButton) {\n    _feed_obj = selfClass.$feed_fakeButton;\n  } else {\n    if (selfClass._sourcePlayer) {\n      _feed_obj = selfClass._sourcePlayer;\n    } else {\n      _feed_obj = null;\n    }\n  }\n\n\n  if (selfClass.identifier_pcm === 'dzs_footer') {\n    selfClass.identifier_pcm = dzs_clean_string(selfClass.cthis.attr('data-source'));\n  }\n\n  if (_feed_obj) {\n    if (_feed_obj.attr('data-playerid')) {\n      selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n    } else {\n      if (_feed_obj.attr('data-source')) {\n        selfClass.identifier_pcm = _feed_obj.attr('data-source');\n      }\n    }\n  }\n\n\n}\n\n/**\n * get the playFrom\n * @param selfClass\n */\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (dzsHelpers.isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (this.get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = this.sanitizeToIntFromPointTime(this.get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\n/**\n * from 1:01 to 61\n * @param arg\n * @returns {number}\n */\nexport function sanitizeToIntFromPointTime(arg) {\n  //formats the time\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n    // console.log('result arr -  ',arr);\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\nexport function player_initSpectrum(selfClass) {\n\n  if (window.dzsap_audio_ctx === null) {\n    if (typeof AudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new AudioContext();\n    } else if (typeof webkitAudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new webkitAudioContext();\n    } else {\n      selfClass.spectrum_audioContext = null;\n    }\n    window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n  } else {\n    selfClass.spectrum_audioContext = window.dzsap_audio_ctx;\n  }\n\n\n  console.log('selfClass.spectrum_audioContext - ', selfClass.spectrum_audioContext);\n\n  if (selfClass.spectrum_audioContext) {\n\n\n    // -- normal\n    // setup a analyzer\n    if (selfClass.spectrum_analyser === null) {\n\n      selfClass.spectrum_analyser = selfClass.spectrum_audioContext.createAnalyser();\n      selfClass.spectrum_analyser.smoothingTimeConstant = 0.3;\n      selfClass.spectrum_analyser.fftSize = 512;\n\n      console.log('selfClass.spectrum_analyser - ', selfClass.spectrum_analyser);\n\n      // console.log('selfClass.audioType - ', selfClass.audioType);\n      if (selfClass.audioType === 'selfHosted') {\n        // console.log($mediaNode_);\n        // return;\n        selfClass.$mediaNode_.crossOrigin = \"anonymous\";\n        selfClass.spectrum_mediaElementSource = selfClass.spectrum_audioContext.createMediaElementSource(selfClass.$mediaNode_);\n\n        selfClass.spectrum_mediaElementSource.connect(selfClass.spectrum_analyser);\n        if (selfClass.spectrum_audioContext.createGain) {\n          selfClass.spectrum_gainNode = selfClass.spectrum_audioContext.createGain();\n        }\n        selfClass.spectrum_analyser.connect(selfClass.spectrum_audioContext.destination);\n\n        selfClass.spectrum_gainNode.gain.value = 1;\n\n        var frameCount = selfClass.spectrum_audioContext.sampleRate * 2.0;\n        selfClass.spectrum_audioContext_buffer = selfClass.spectrum_audioContext.createBuffer(2, frameCount, selfClass.spectrum_audioContext.sampleRate);\n      }\n    }\n  }\n}\n\nexport function player_initSpectrumOnUserAction(selfClass) {\n\n\n  // console.log('player_initSpectrumOnUserAction setting up listeners for player_initSpectrumOnUserAction');\n  selfClass.cthis.get(0).addEventListener('mousedown', handleMouseDown, {once: true});\n  selfClass.cthis.get(0).addEventListener('touchdown', handleMouseDown, {once: true});\n\n  function handleMouseDown(e) {\n    console.log('setting up audio context --', e);\n\n\n    player_initSpectrum(selfClass);\n  }\n\n\n}\n\n\nexport function player_icecastOrShoutcastRefresh(selfClass) {\n\n\n  var url = selfClass.cthis.attr('data-source');\n\n  if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n    url = add_query_arg(selfClass.urlToAjaxHandler, 'action', 'dzsap_shoutcast_get_streamtitle');\n    url = add_query_arg(url, 'source', (selfClass.data_source));\n  }\n\n\n  jQuery.ajax({\n    type: \"GET\",\n    url: url,\n    crossDomain: true,\n    success: function (response) {\n\n      if (response.documentElement && response.documentElement.innerHTML) {\n        response = response.documentElement.innerHTML;\n      }\n\n      // console.log(' response - ',response);\n\n      var regex_title = '';\n      var regex_creator = '';\n      var new_title = '';\n      var new_artist = '';\n\n      if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n        var regex_location = /<location>(.*?)<\\/location>/g\n\n        var regexMatches = null;\n        if (regexMatches = regex_location.exec(response)) {\n          // console.log(' aux - ', aux);\n\n          if (regexMatches[1] !== selfClass.data_source) {\n            selfClass.data_source = regexMatches[1];\n            selfClass.setup_media({\n              'called_from': 'icecast setup'\n            });\n          }\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n          regex_title = /<title>(.*?)<\\/title>/g\n\n          if (regexMatches = regex_title.exec(response)) {\n            new_title = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n          new_title = response;\n        }\n\n      }\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n          regex_creator = /<creator>(.*?)<\\/creator>/g;\n\n          if (regexMatches = regex_creator.exec(response)) {\n            new_artist = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n\n        selfClass._metaArtistCon.find('.the-name').html(new_title);\n      }\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n\n        selfClass._metaArtistCon.find('.the-artist').html(new_artist)\n      }\n    },\n    error: function (err) {\n      console.log('error loading icecast - ', err);\n    }\n  });\n\n}\n\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  if (selfClass.cthis.parent().hasClass('dzsap-sticktobottom')) {\n    selfClass.$stickToBottomContainer = selfClass.cthis.parent();\n\n  }\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    selfClass.$stickToBottomContainer = selfClass.cthis.parent().parent();\n  }\n}\n\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n    selfClass.$stickToBottomContainer.addClass('dzsap-sticktobottom-for-' + selfClass.initOptions.design_skin);\n    selfClass.$stickToBottomContainer.prev().addClass('dzsap-sticktobottom-for-' + selfClass.initOptions.design_skin);\n\n    if (selfClass.initOptions.design_skin === 'skin-wave') {\n      selfClass.$stickToBottomContainer.addClass('dzsap-sticktobottom-for-' + selfClass.initOptions.design_skin + '--mode-' + selfClass.skinwave_mode)\n      selfClass.$stickToBottomContainer.prev().addClass('dzsap-sticktobottom-for-' + selfClass.initOptions.design_skin + '--mode-' + selfClass.skinwave_mode)\n    }\n\n\n    var regex = /(skinvariation-.*?)($| )/g\n\n    var aux = regex.exec(selfClass.cthis.attr('class'));\n\n    if (aux && aux[1]) {\n      selfClass.$stickToBottomContainer.addClass(aux[1]);\n      selfClass.$stickToBottomContainer.prev().addClass(aux[1]);\n    }\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n    // -- generate nonce\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\nexport function player_determineHtmlAreas(selfClass) {\n\n  var o = selfClass.initOptions;\n\n\n  // console.log('selfClass.cthis.children(\\'.feed-dzsap--extra-html\\')- ', selfClass.cthis.children('.feed-dzsap--extra-html'));\n  let extraHtmlBottom = '';\n  let extraHtmlControlsLeft = '';\n  let extraHtmlControlsRight = '';\n\n  // console.log('selfClass.cthis.children(\\'.feed-dzsap--extra-html\\').length - ', selfClass.cthis.children('.feed-dzsap--extra-html').length, selfClass.cthis);\n  if (selfClass.cthis.children('.feed-dzsap--extra-html').length > 0 && o.settings_extrahtml === '') {\n    selfClass.cthis.children('.feed-dzsap--extra-html').each(function () {\n\n      extraHtmlBottom += jQuery(this).html();\n    })\n    selfClass.cthis.children('.feed-dzsap--extra-html').remove();\n  } else {\n    if (o.settings_extrahtml) {\n      extraHtmlBottom = o.settings_extrahtml;\n    }\n  }\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').length > 0) {\n    extraHtmlControlsLeft = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').length > 0) {\n    extraHtmlControlsRight = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-bottom').length > 0) {\n    extraHtmlBottom = selfClass.cthis.children('.feed-dzsap--extra-html-bottom').eq(0).html();\n  }\n\n\n  selfClass.extraHtmlAreas.controlsLeft = extraHtmlControlsLeft;\n  selfClass.extraHtmlAreas.controlsRight = extraHtmlControlsRight;\n  selfClass.extraHtmlAreas.bottom = extraHtmlBottom;\n\n\n  if (selfClass.extraHtmlAreas.controlsRight) {\n    selfClass.extraHtmlAreas.controlsRight = String(selfClass.extraHtmlAreas.controlsRight).replace(/{{svg_share_icon}}/g, dzsapSvgs.svg_share_icon);\n  }\n\n  // console.log('selfClass.feedEmbedCode - ', selfClass.feedEmbedCode);\n  // console.log('selfClass.extraHtmlAreas - ', selfClass.extraHtmlAreas);\n  for (var key in selfClass.extraHtmlAreas) {\n    // debugger;\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{heart_svg}}', '\\t&hearts;');\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{embed_code}}', selfClass.feedEmbedCode);\n  }\n}\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  var i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n    // -- pause other players\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n      //console.error(\"LETS PAUSE\");\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_detect_skinwave_mode() {\n\n  var selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\n\nexport function player_constructArtistAndSongCon(margs) {\n\n  var selfClass = this;\n\n  if (selfClass.cthis.find('.meta-artist').length === 0) {\n    if (selfClass.cthis.find('.feed-artist').length || selfClass.cthis.find('.feed-songname').length) {\n      var structHtml = '<span class=\"meta-artist player-artistAndSong\">';\n      if (selfClass.cthis.find('.feed-artist').length) {\n        structHtml += '<span class=\"the-artist\">' + selfClass.cthis.find('.feed-artist').eq(0).html() + '</span>';\n      }\n      if (selfClass.cthis.find('.feed-songname').length) {\n        structHtml += '<span class=\"the-name player-meta--songname\">' + selfClass.cthis.find('.feed-songname').eq(0).html() + '</span>';\n      }\n      structHtml += '</span>';\n      selfClass.cthis.append(structHtml);\n    }\n  }\n\n  if (selfClass.cthis.attr(\"data-type\") === 'fake') {\n    if (selfClass.cthis.find('.meta-artist').length === 0) {\n      selfClass.cthis.append('<span class=\"meta-artist\"><span class=\"the-artist\"></span><span class=\"the-name\"></span></span>')\n    }\n  }\n\n  if (!selfClass._metaArtistCon || margs.call_from === 'reconstruct') {\n    // -- reconstruct\n    if (selfClass.cthis.children('.meta-artist').length > 0) {\n      //console.log(cthis.hasClass('alternate-layout'));\n      if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n        //console.log(_conControls.children().last());\n\n        if (selfClass._conControls.children().last().hasClass('clear')) {\n          selfClass._conControls.children().last().remove();\n        }\n        selfClass._conControls.append(selfClass.cthis.children('.meta-artist'));\n      } else {\n\n        // -- normal\n        if (selfClass._audioplayerInner) {\n\n          selfClass._audioplayerInner.append(selfClass.cthis.children('.meta-artist'));\n        }\n      }\n\n    }\n\n\n    // -- we need meta-artist at this point\n    selfClass._audioplayerInner.find('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n\n    //console.log('ceva');\n\n    selfClass._metaArtistCon = selfClass._audioplayerInner.find('.meta-artist-con').eq(0);\n\n\n    var o = selfClass.initOptions;\n\n\n    if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n      selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right').eq(0);\n    }\n    if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n      selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n    }\n\n\n    if (o.design_skin === 'skin-pro') {\n      selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n    }\n\n    if (o.design_skin === 'skin-wave') {\n\n\n      if (selfClass.cthis.find('.dzsap-repeat-button').length) {\n        selfClass.cthis.find('.dzsap-repeat-button').after(selfClass._metaArtistCon);\n      } else {\n\n\n        if (selfClass.cthis.find('.dzsap-loop-button').length && selfClass.cthis.find('.dzsap-loop-button').eq(0).parent().hasClass('feed-dzsap-for-extra-html-right') === false) {\n          selfClass.cthis.find('.dzsap-loop-button').after(selfClass._metaArtistCon);\n        } else {\n\n          selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n        }\n      }\n\n      if (selfClass.skinwave_mode === 'alternate') {\n        selfClass._apControlsRight.before(selfClass._metaArtistCon);\n      }\n\n\n    }\n    if (o.design_skin === 'skin-aria') {\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n    }\n    if (o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n\n    }\n    if (o.design_skin === 'skin-silver') {\n      selfClass._apControlsRight.append(selfClass._metaArtistCon);\n    }\n    if (o.design_skin === 'skin-default') {\n      selfClass._apControlsRight.before(selfClass._metaArtistCon);\n    }\n\n\n  }\n\n\n}\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var sw_setFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n  // console.log('arguments - ', arguments);\n  // console.log('$es - ', $es);\n  var $elThis = $es(elThis);\n\n  if (argOptions && typeof argOptions === 'object') {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        sw_setFromJson = true;\n      } catch (err) {\n\n        console.log('err - ', err);\n      }\n    }\n    if (!sw_setFromJson) {\n\n      if (typeof argOptions === 'undefined' || !argOptions) {\n        if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n          var aux = $elThis.attr(searchedAttr);\n          aux = 'var aux_opts = ' + aux;\n          eval(aux);\n          tempOptions = Object.assign({}, aux_opts);\n        }\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n  //console.log('generateFakeArray()');\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (var it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n\n\nexport function scrubbar_modeWave_clearObsoleteCanvas(selfClass) {\n  if (selfClass._scrubbar) {\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\n\n\nexport function scrubbar_modeWave_setupCanvas(pargs, selfClass) {\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  // console.trace();\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n  // console.log('scrubbar_modeWave_setupCanvas() selfClass._scrubbar.find(\\'.scrub-bg\\') - ', selfClass._scrubbar);\n  selfClass._scrubbar.find('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.find('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum === 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(function () {\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    }, 20);\n  }\n}\n","\n\n\nvar playbtn_svg = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nvar pausebtn_svg = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>';\n\n\n\n\n\nvar svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\nvar svg_embed_button = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10.975px\" height=\"14.479px\" viewBox=\"0 0 10.975 14.479\" enable-background=\"new 0 0 10.975 14.479\" xml:space=\"preserve\"> <g> <path d=\"M2.579,1.907c0.524-0.524,1.375-0.524,1.899,0l4.803,4.804c0.236-0.895,0.015-1.886-0.687-2.587L5.428,0.959 c-1.049-1.05-2.75-1.05-3.799,0L0.917,1.671c-1.049,1.05-1.049,2.751,0,3.801l3.167,3.166c0.7,0.702,1.691,0.922,2.587,0.686 L1.867,4.52c-0.524-0.524-0.524-1.376,0-1.899L2.579,1.907z M5.498,13.553c1.05,1.05,2.75,1.05,3.801,0l0.712-0.713 c1.05-1.05,1.05-2.75,0-3.8L6.843,5.876c-0.701-0.7-1.691-0.922-2.586-0.686l4.802,4.803c0.524,0.525,0.524,1.376,0,1.897 l-0.713,0.715c-0.523,0.522-1.375,0.522-1.898,0L1.646,7.802c-0.237,0.895-0.014,1.886,0.686,2.586L5.498,13.553z\"/> </g> </svg> ';\n\n\n\nvar svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nvar svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\n\n\n\n\n\nvar svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nvar svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\nvar svg_footer_playlist = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\n\n\nexports.svg_footer_playlist = svg_footer_playlist;\nexports.svg_embed_btn = svg_embed_btn;\nexports.svg_prev_btn = svg_prev_btn;\nexports.svg_next_btn = svg_next_btn;\nexports.svg_menu_state = svg_menu_state;\n\nexports.svg_embed_button = svg_embed_button;\nexports.playbtn_svg = playbtn_svg;\nexports.svg_share_icon = svg_share_icon;\nexports.pausebtn_svg = pausebtn_svg;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","let esJquery = class {\n  constructor(selector) {\n\n    // console.log('%c typeof selector - ','color: #aaaaaa;', typeof selector, selector);\n    if (typeof selector == 'string') {\n\n      this.$el = document.querySelector(selector);\n      this.$els = document.querySelectorAll(selector);\n    } else {\n\n      this.$el = selector;\n\n      if (isNodeList(selector)) {\n        this.$el = selector[0];\n      }\n      this.$els = [];\n\n      if (isNodeList(selector)) {\n\n        selector.forEach((_el) => {\n\n          this.$els.push(_el);\n        })\n      } else {\n\n        this.$els.push(this.$el);\n      }\n\n\n    }\n  }\n\n  hide() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = 'none';\n    });\n  }\n\n  clone() {\n    // -- @only works on first element\n    console.log('clone', this.$el);\n\n    const cln = this.$el.cloneNode(true);\n    this.$el.parentNode.appendChild(cln)\n    return cln;\n  }\n\n  show() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = '';\n    });\n  }\n  trigger(eventType) {\n\n    this.$els.forEach(function (el) {\n      // el.style.display = '';\n      const event = new Event(eventType);\n      el.dispatchEvent(event);\n    });\n  }\n\n  addClass(arg) {\n\n    // console.log('addClass',this.$el, this.$els, arg);\n    // this.$el.classList.add(arg);\n\n\n    this.$els.forEach(function (el3) {\n      el3.classList.add(arg);\n    });\n    return this;\n  }\n\n  removeClass(arg) {\n\n    // console.log('addClass',this.$el, this.$els, arg);\n    // this.$el.classList.add(arg);\n\n\n    this.$els.forEach(function (el3) {\n      el3.classList.remove(arg);\n    });\n    return this;\n  }\n\n  prepend(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n      // _tempKid.innerHTML = html;\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n          el.insertBefore(_tempKid, el.firstChild);\n          _tempKid.outerHTML = html;\n        } catch (err) {\n          console.log('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  get(index) {\n    if(index===0){\n      return this.$el;\n    }\n  }\n  each(callback) {\n    this.$els.forEach((el) => {\n        callback($es(el));\n      }\n    )\n\n  }\n\n  text() {\n    // console.log('arguments.length - ', arguments.length);\n    if (arguments.length === 0) {\n\n      return this.$el.textContent;\n    } else {\n\n      this.$el.textContent = arguments[0];\n\n      return this;\n    }\n  }\n  val() {\n    // console.log('arguments.length - ', arguments.length);\n    if (arguments.length === 0) {\n\n      return this.$el.value;\n    } else {\n\n      this.$el.value = arguments[0];\n\n      return this;\n    }\n  }\n\n  find(selector) {\n\n    // console.log('this.$el.querySelectorAll(selector) - ',this.$el.querySelectorAll(selector));\n    return new esJquery(this.$el.querySelectorAll(selector));\n  }\n\n  append(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n      _tempKid.innerHTML = html;\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n        } catch (err) {\n          console.log('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  on(evt, sel, handler) {\n\n    // console.log(evt,sel,handler,this.$el);\n    this.$el.addEventListener(evt, function (event) {\n      var t = event.target;\n      while (t && t !== this) {\n        if (t.matches(sel)) {\n          // console.log('t - ', t);\n          handler.call(t, event);\n        }\n        t = t.parentNode;\n      }\n    });\n    return this;\n  }\n\n  hasClass(arg) {\n    return this.$el.classList.contains(arg);\n  }\n\n  html() {\n\n    const attrArgs = arguments;\n    if (attrArgs.length == 0) {\n      return this.$el.innerHTML;\n    }\n    if (attrArgs.length == 1) {\n\n      this.$el.innerHTML = attrArgs[0];\n\n      return this;\n    }\n  }\n\n  getLast() {\n    console.log(this, this.$els);\n\n    if (this.$els.length) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return null;\n    // return\n  }\n\n  attr() {\n    const attrArgs = arguments;\n    if (attrArgs.length == 0) {\n      console.log('no attrArgs.. ');\n    }\n    if (attrArgs.length == 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length == 2) {\n      this.$els.forEach(function (el) {\n        el.setAttribute(attrArgs[0], attrArgs[1]);\n      });\n    }\n\n    return this;\n    // console.log('addClass',this.$el, this.$els, arg);\n    // this.$el.classList.add(arg);\n\n\n  }\n\n  remove() {\n\n    console.log('this.$el - ', this.$el);\n    this.$el.remove();\n  }\n\n  parent() {\n\n    return $es(this.$el.parentNode);\n  }\n\n  getEl() {\n\n    return this.$el;\n  }\n\n  children() {\n    console.log('this.$el.childNodes -', this.$el.childNodes);\n    return $es(this.$el.childNodes);\n  }\n\n  serialize() {\n    var form = this.$el;\n    var field, query = '';\n    if (typeof form == 'object' && form.nodeName == \"FORM\") {\n      for (var i = 0; i <= form.elements.length - 1; i++) {\n        field = form.elements[i];\n        if (field.name && field.type != 'file' && field.type != 'reset') {\n          if (field.type == 'select-multiple') {\n            for (var j = 0; j <= form.elements[i].options.length - 1; j++) {\n              if (field.options[j].selected) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.options[j].value).replace(/%20/g, '+');\n              }\n            }\n          } else {\n            if ((field.type != 'submit' && field.type != 'button')) {\n              if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.value).replace(/%20/g, '+');\n              }\n            }\n          }\n        }\n      }\n    }\n    return query.substr(1);\n  }\n};\n\nfunction isNodeList(nodes) {\n  var stringRepr = Object.prototype.toString.call(nodes);\n\n  return typeof nodes === 'object' &&\n    /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) &&\n    (typeof nodes.length === 'number') &&\n    (nodes.length === 0 || (typeof nodes[0] === \"object\" && nodes[0].nodeType > 0));\n}\n\n/**\n * jQuery, but in es6\n * @param query selector\n * @returns {esJquery}\n */\nconst $es = (arg) => {\n  // todo: actually convert to a class maybe..\n\n\n  return new esJquery(arg)\n  // return document.querySelector(arg);\n};\n\n\nwindow.es_document_ready = function (callback) {\n  new Promise((resolutionFunc, rejectionFunc) => {\n    // console.log(document.readyState);\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n\n      resolutionFunc('interactive')\n\n    }\n\n    document.addEventListener('DOMContentLoaded', () => {\n      console.log(document.readyState);\n      resolutionFunc('DOMContentLoaded')\n    }, false);\n    setTimeout(() => {\n\n      resolutionFunc('timeout')\n    }, 5000);\n  }).then(resolution => {\n    callback(resolution);\n  }).catch(err => {\n    callback(err)\n  });\n}\n\n/** call ajax function\n * {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  }\n */\nwindow.es_ajax = function (pargs) {\n  var margs = {\n    'type': 'GET',\n    'url': '/',\n    'data': {},\n    'success': null\n  };\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  let xhr = new XMLHttpRequest();\n\n  xhr.open(margs.type, margs.url);\n  var form_data = new FormData();\n\n  // console.log('margs.data - ', margs.data,pargs,margs);\n  for (var key in margs.data) {\n    form_data.append(key, margs.data[key]);\n  }\n  // console.log('form_data - ', form_data);\n\n  xhr.send(form_data);\n  xhr.addEventListener('load', handle_loaded);\n\n  function handle_loaded(e) {\n\n    // console.log('laded xhr - ',e,xhr);\n    if (xhr.status != 200) {\n\n      // console.log('this no status - ', this,e);\n    } else { // show the result\n      // console.log('this - ', this,e);\n      if (margs.success) {\n        margs.success(e, this);\n      }\n    }\n  }\n\n\n}\n\n\nwindow.get_query_arg = function (purl, key) {\n  //console.info(purl);\n\n  // console.info(\"THIS\", purl, key);\n  if (purl.indexOf(key + '=') > -1) {\n    //faconsole.log('testtt');\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    //console.info(regex, regtest);\n    if (regtest != null) {\n      //var splitterS = regtest;\n\n\n      if (regtest[1]) {\n        var aux = regtest[1].replace(/=/g, '');\n        return aux;\n      } else {\n        return '';\n      }\n\n\n    }\n    //$('.zoombox').eq\n  }\n}\n\n\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n  //console.info(pair);\n\n  s = s.replace(r, \"$1\" + pair);\n  //console.log(s, pair);\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n  //if(!RegExp.$1) {s += (s.length>0 ? '&' : '?') + kvp;};\n\n  return s;\n}\n\nexport default $es;\n","export const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1' : 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2' : 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3' : 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR' : 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP : 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT : 20000,\n  URL_JQUERY : 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n","/*\n * Author: Audio Player with Playlist\n * Website: https://digitalzoomstudio.net/\n * Portfolio: https://bit.ly/nM4R6u\n * Version: 5.73\n * */\n\nimport * as dzsapHelpers from \"./jsinc/_dzsap_helpers\";\nimport $es from \"./js_common/_esjquery\";\nimport {ConstantsDzsAp} from \"./configs/_constants\";\n\n// console.log('dzsapConstants - ', dzsapConstants);\n// var $es = require('./js_common/_esjquery').$es;\n\n\n// const dzsapWaveFunctions = require('./jsinc/wave-render/_wave-render-functions');\n\n\nclass WaveGenerator {\n\n  constructor($waveGenerator_) {\n\n    this.initOptions = {};\n    this.dataSource = '';\n    this.$waveGenerator_ = ($waveGenerator_);\n    this.$waveGenerator = $es($waveGenerator_);\n    this.$wavedataField = null;\n    this.$status = null;\n    this.init();\n  }\n\n  init() {\n\n    var finalOptions = {};\n    var defaultOptions = Object.assign({\n      source: '',\n      selectorWaveData: '',\n    }, {});\n    finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this.$waveGenerator_, defaultOptions, null, 'data-options', $es);\n\n    var selfClass = this;\n\n    selfClass.initOptions = finalOptions;\n    // console.log('this.$waveGenerator_ - ', this.$waveGenerator_);\n    // console.log({finalOptions});\n\n    selfClass.$status = selfClass.$waveGenerator.find('.dzsap-wave-generator--status');\n\n\n    if (selfClass.initOptions.source) {\n      selfClass.dataSource = selfClass.initOptions.source;\n    }\n\n    if (selfClass.initOptions.selectorWaveData) {\n      selfClass.$wavedataField = $es(selfClass.initOptions.selectorWaveData);\n    }\n\n    selfClass.$status.html('generating waveforms');\n\n    // console.log('selfClass.$status - ', selfClass.$status, selfClass.$wavedataField,  {finalOptions: selfClass.initOptions});\n\n\n    if (selfClass.dataSource) {\n      promise_waveGenerate(selfClass.$waveGenerator.find('.dzsap-wave-generator--wave').get(0), selfClass.dataSource).then((resolve) => {\n        selfClass.$status.html('');\n        console.log('pcm data generated - ', resolve);\n\n        try {\n          if (resolve.pcm_data) {\n            if (selfClass.$wavedataField) {\n              selfClass.$wavedataField.val(resolve.pcm_data);\n\n              // console.log('get_query_arg(\\'dzsap_wave_generate_auto\\')-  ', get_query_arg('dzsap_wave_generate_auto'));\n\n              if(dzsap_settings.dzsap_wave_generate_auto==='on' && get_query_arg(window.location.href, 'dzsap_wave_generate_auto')==='on'){\n\n                window.dzsap_admin_waveforms_submitPcmData(document.querySelector('.track-waveform-meta'));\n              }\n\n            }\n          }\n        } catch (err) {\n          console.log(err);\n\n        }\n      })\n    }\n  }\n}\n\n\nwindow.es_document_ready(() => {\n\n  // console.log('test');\n\n\n  $es('.dzsap-wave-generator.auto-init').each($el => {\n    // console.log($el, $el.get(0));\n\n    var generator = new WaveGenerator($el.get(0));\n  })\n})\n\nfunction get_query_arg(purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n    //faconsole.log('testtt');\n\n    var regexS = \"[?&]\" + key + \"=.+\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n    //console.info(regtest);\n\n    if (regtest != null) {\n      var splitterS = regtest[0];\n      if (splitterS.indexOf('&') > -1) {\n        var aux = splitterS.split('&');\n        splitterS = aux[1];\n      }\n      //console.log(splitterS);\n      var splitter = splitterS.split('=');\n      //console.log(splitter[1]);\n      //var tempNr = ;\n\n      return splitter[1];\n\n    }\n    //$('.zoombox').eq\n  }\n}\nwindow.dzsap_generating_pcm = false;\n\nconst promise_waveGenerate = async function ($container_, sourceMp3, pargs) {\n\n\n  var margs = Object.assign({\n    called_from: 'default',\n    preferBackendPeaks: true,\n    wavesurfer_pcm_length: 200\n  }, pargs);\n  var self = this;\n\n\n  return new Promise((resolvePcm, rejectPcm) => {\n\n    async function wavesurfer_renderPcm() {\n\n      function asyncRenderPcm(resolve, reject) {\n        // resolve(400);\n\n\n        // -- make sure we are generating only once\n        if (window.dzsap_generating_pcm) {\n          setTimeout(function () {\n            asyncRenderPcm(resolve, reject);\n          }, 1000);\n          return false;\n        }\n        window.dzsap_generating_pcm = true;\n\n\n        var wavesurferConId = 'wavesurfer_' + Math.ceil(Math.random() * 10000);\n\n        if (!$container_) {\n          $container_ = document.body;\n        }\n\n        $es($container_).append(`<div id=\"${wavesurferConId}\"></div>`);\n\n\n        var ctx = document.createElement('canvas').getContext('2d');\n        var linGrad = ctx.createLinearGradient(0, 64, 0, 200);\n        linGrad.addColorStop(0.5, 'rgb(107,95,95)');\n        linGrad.addColorStop(0.5, 'rgb(119,115,115)');\n\n\n        var wavesurfer = WaveSurfer.create({\n          container: '#' + wavesurferConId,\n          normalize: true,\n          pixelRatio: 1,\n          waveColor: linGrad,\n          progressColor: 'hsla(200, 100%, 30%, 0.5)',\n          cursorColor: '#fff',\n          // This parameter makes the waveform look like SoundCloud's player\n          barWidth: 2\n        });\n\n\n        wavesurfer.on('loading', function (percents) {\n          // document.getElementById('progress').value = percents;\n\n          $container_.parentNode.querySelector('.dzsap-wave-generator--status').innerHTML = (percents + '%')\n        });\n\n\n        try {\n          wavesurfer.load(sourceMp3);\n        } catch (err) {\n          console.log(\"[wavesurfer] WAVE SURFER NO LOAD\");\n        }\n\n\n        wavesurfer.on('ready', function () {\n          //            wavesurfer.play();\n          console.log('[dzsap] [wavesurfer] generating wave data for ', sourceMp3);\n\n          var accuracy = 100;\n          // if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration && selfClass.$mediaNode_.duration > 1000) {\n          //   accuracy = 100;\n          // }\n\n\n          var pcmDataArr = [];\n          var pcmDataString = '';\n          if (wavesurfer && wavesurfer.exportPCM) {\n\n            if (margs.preferBackendPeaks !== true) {\n\n              pcmDataArr = wavesurfer.exportPCM(margs.wavesurfer_pcm_length, accuracy, true);\n            }\n\n            let isPcmDataArrValid = false;\n            try {\n              pcmDataArr = JSON.parse(pcmDataString);\n\n              for (let i in pcmDataArr) {\n                if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                  isPcmDataArrValid = true;\n                  break;\n                }\n              }\n            } catch (err) {\n              isPcmDataArrValid = false;\n            }\n\n            if (!isPcmDataArrValid) {\n              pcmDataArr = wavesurfer.backend.getPeaks(margs.wavesurfer_pcm_length, 0, margs.wavesurfer_pcm_length);\n            }\n            for (let i in pcmDataArr) {\n              if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                pcmDataArr[i] = Math.abs(Number(Number(pcmDataArr[i]).toFixed(2)));\n              }\n            }\n\n\n          } else {\n            pcmDataArr = dzsapHelpers.generateFakeArrayForPcm();\n          }\n          pcmDataString = JSON.stringify(pcmDataArr);\n\n\n          resolve({\n            resolve_type: 'success',\n            pcm_data: pcmDataString\n          })\n        });\n\n        wavesurfer.on('error', function (err, err2) {\n          reject({\n            error_type: 'wavesurfer_error',\n            error_message: err,\n          })\n        });\n\n\n        setTimeout(() => {\n\n          reject({\n            error_type: 'wavesurfer_timeout',\n            error_message: 'timeout',\n          })\n\n        }, ConstantsDzsAp.WAVESURFER_MAX_TIMEOUT);\n      }\n\n      // -- end promise\n\n\n      return new Promise((resolve, reject) => {\n        asyncRenderPcm(resolve, reject);\n      });\n    }\n\n    wavesurfer_renderPcm().then(responsePcm => {\n      console.log('%c [dzsap] [wave] success while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, responsePcm)\n\n      resolvePcm(responsePcm);\n\n    }).catch(err => {\n\n      var default_pcm = [];\n\n      for (var i3 = 0; i3 < 200; i3++) {\n        default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(2));\n      }\n      default_pcm = JSON.stringify(default_pcm);\n\n      console.log('%c [dzsap] [wave] error while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, err, err.error_message)\n\n\n      resolvePcm(default_pcm);\n    });\n  })\n\n\n}\n"],"sourceRoot":""}